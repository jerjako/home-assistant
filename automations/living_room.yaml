- id: living_room_tv_power_on
  alias: TV On
  trigger:
    - platform: state
      entity_id: input_boolean.living_room_tv_power
      to: "on"
  action:
    - service: remote.send_command
      data:
        command:
          - PowerOn
        device: 52559649 # Yamaha
    - service: remote.send_command
      data:
        command:
          - PowerOn
        device: 51571119 # TV
    
- id: living_room_tv_power_off
  alias: TV Off
  trigger:
    - platform: state
      entity_id: input_boolean.living_room_tv_power
      to: "off"
  action:
    - service: remote.send_command
      data:
        command:
          - PowerOff
        device: 52559649 # Yamaha
    - service: remote.send_command
      data:
        command:
          - PowerOff
        device: 51571119 # TV

- id: living_room_box_power_toggle
  alias: Box Toggle
  trigger:
    - platform: state
      entity_id: input_boolean.living_room_box_power
  action:
    - service: remote.send_command
      data:
        command:
          - PowerToggle
        device: 51572296

- id: living_room_tv_auto_power_on
  alias: TV auto on
  trigger:
    - platform: event
      event_type: click
      event_data:
        entity_id: binary_sensor.living_room_switch
        click_type: single
  condition:
    - condition: state
      entity_id: input_boolean.living_room_tv_power
      state: "off"
  action:
#    - service: switch.turn_on
#      entity_id: switch.living_room_tv_switch
#    - delay: 00:00:03
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.living_room_tv_power

- id: living_room_tv_auto_power_off
  alias: TV auto off
  trigger:
    - platform: event
      event_type: click
      event_data:
        entity_id: binary_sensor.living_room_switch
        click_type: double
  condition:
    - condition: state
      entity_id: input_boolean.living_room_tv_power
      state: "on"
  action:
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.living_room_tv_power
#    - delay: 00:00:03
#    - service: switch.turn_off
#      entity_id: switch.living_room_tv_switch

